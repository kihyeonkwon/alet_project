(function(e){function t(t){for(var i,r,o=t[0],c=t[1],l=t[2],m=0,d=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},s={app:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0e87":function(e,t,n){},"16f3":function(e,t,n){"use strict";n("e828")},"35cd":function(e,t,n){},"3b77":function(e,t,n){"use strict";n("719d")},"457f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("SideBar"),n("router-view")],1)},a=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"sidebar"}},[n("nav",{staticClass:"\n      navbar-expand-md\n      item-align-center\n      flex-column\n      fixed-top\n      bg-transparent\n      box-sizing-inherit\n    ",attrs:{id:"nav"}},[n("b-sidebar",{staticClass:"bg-transparent",attrs:{id:"sidebar-1","aria-labelledby":"sidebar-no-header-title",backdrop:"","backdrop-variant":"dark","bg-variant":"dark","no-header":"",shadow:""}},[e.loggedUser?n("b-card",{staticClass:"overflow-hidden text-white bg-transparent"},[n("b-row",{attrs:{"no-gutters":""}},[n("b-col",{attrs:{md:"6"}},[n("b-card-img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}})],1),n("b-col",{attrs:{md:"6"}},[n("b-card-body",{staticClass:"flex-wrap"},[e._v(" "+e._s(e.loggedUser)+"의 영화관 "),n("b-button",{staticClass:"btn btn-link text-decoration-none",attrs:{variant:"link"},on:{click:function(t){return t.preventDefault(),e.logOut.apply(null,arguments)}}},[e._v(" 퇴 장 하 기 ")])],1)],1)],1)],1):e._e(),n("b-button-group",{staticClass:"d-flex text-decoration-none ",staticStyle:{"text-align":"center"},attrs:{vertical:""}},[n("b-button",{staticClass:"btn btn-link text-decoration-none text-white",attrs:{to:{path:"/"},variant:"link"}},[e._v(" 메 인 화 면 ")]),e.currentUser?e._e():n("b-button",{staticClass:"btn btn-link text-decoration-none text-white",attrs:{to:{path:"/accounts/signup"},variant:"link"}},[e._v(" 회 원 가 입 ")]),e.currentUser?e._e():n("b-button",{staticClass:"btn btn-link text-decoration-none text-white",attrs:{to:{path:"/accounts/login"},variant:"link"}},[e._v(" 로 그 인 ")]),n("b-button",{staticClass:"btn btn-link text-decoration-none text-white",attrs:{to:{path:"/community/reviewlist"},variant:"link"}},[e._v(" 모 든 리 뷰 모 아 보 기 ")])],1)],1),n("div",{staticClass:"container-fluid d-flex"},[n("b-icon-list",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-no-header",modifiers:{"sidebar-no-header":!0}},{name:"b-toggle",rawName:"v-b-toggle.sidebar-1",modifiers:{"sidebar-1":!0}}],staticClass:"bg-white",staticStyle:{height:"40px",width:"40px",opacity:".2"}}),n("div",{staticClass:"input-group ps-5 align-items-end justify-content-center"},[n("div",{staticClass:"form-outline",attrs:{id:"navbar-search-autocomplete"}},[n("b-form-input",{staticClass:"form-control bg-transparent ",staticStyle:{color:"white"},attrs:{type:"text",autocapitalize:"none",placeholder:"Search"},on:{input:function(t){return e.SearchMovie(e.searchText)}},model:{value:e.searchText,callback:function(t){e.searchText="string"===typeof t?t.trim():t},expression:"searchText"}}),n("div",{staticClass:"bg-black",staticStyle:{top:"12px",width:"375px",overflow:"hidden auto",opacity:"0.8"},attrs:{role:"dialog"}},[n("div",[e.searchText?n("b-list-group",{model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},e._l(e.searchmovies,(function(t){return n("b-list-group-item",{key:t.id,on:{click:function(n){return e.movieDetail(t.id)}}},[n("div",{on:{click:function(n){return e.movieDetail(t.id)}}},[n("b-img",{staticStyle:{width:"10%"},attrs:{src:t.poster_path_thumbnail}}),e._v(" "+e._s(t.title)+" ")],1)])})),1):e._e()],1)])],1)])],1)],1)])},o=[],c=(n("4de4"),n("d3b7"),n("fb6a"),n("b0c0"),n("bc3a")),l=n.n(c);function u(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"JWT "+e.token}:{}}var m={name:"SideBar",data:function(){return{searchText:"",searchmovies:[],loggedUser:""}},computed:{currentUser:function(){return this.$store.state.auth.user}},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/")},SearchMovie:function(e){var t=this;""!==e?l.a.get("http://15.164.229.252/movies/movielist/search?search=".concat(e)).then((function(e){var n=e.data.filter((function(e,t,n){return n.indexOf(e)===t}));console.log(e.data),t.searchmovies=n.slice(0,10)})).catch((function(e){console.log(e)})):(this.searchText="",this.searchmovies=[])},movieDetail:function(e){this.$router.push({path:"/movie/".concat(e),params:{movie_id:e}}).catch((function(e){"NavigationDuplicated"===e.name&&location.reload()}))},userName:function(){var e=this;l.a.post("http://15.164.229.252/accounts/get-user-name/",{},{headers:u()}).then((function(t){e.loggedUser=t.data.username,console.log(e.loggedUser)}))}},created:function(){this.userName()}},d=m,v=(n("eebf"),n("2877")),p=Object(v["a"])(d,r,o,!1,null,null,null),f=p.exports,h={name:"App",components:{SideBar:f}},g=h,w=(n("034f"),Object(v["a"])(g,s,a,!1,null,null,null)),b=w.exports,_=n("2f62"),C=n("d4ec"),x=n("bee2"),y=(n("e9c4"),"http://15.164.229.252/accounts/"),k=function(){function e(){Object(C["a"])(this,e)}return Object(x["a"])(e,[{key:"login",value:function(e){return l.a.post(y+"api-token-auth/",{username:e.username,password:e.password}).then((function(e){return console.log(e),e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e){return l.a.post(y+"signup/",{username:e.username,password:e.password,passwordConfirmation:e.passwordConfirm,email:e.email})}}]),e}(),O=new k,S=JSON.parse(localStorage.getItem("user")),$=S?{status:{loggedIn:!0},user:S}:{status:{loggedIn:!1},user:null},j={namespaced:!0,state:$,actions:{login:function(e,t){var n=e.commit;return O.login(t).then((function(e){return console.log(t,e),n("loginSuccess",t),Promise.resolve(e)}),(function(e){return n("loginFailure"),Promise.reject(e)}))},logout:function(e){var t=e.commit;O.logout(),t("logout")},register:function(e,t){var n=e.commit;return O.register(t).then((function(e){return n("registerSuccess"),Promise.resolve(e.data)}),(function(e){return n("registerFailure"),Promise.reject(e)}))}},mutations:{loginSuccess:function(e,t){e.status.loggedIn=!0,e.user=t},loginFailure:function(e){e.status.loggedIn=!1,e.user=null},logout:function(e){e.status.loggedIn=!1,e.user=null},registerSuccess:function(e){e.status.loggedIn=!1},registerFailure:function(e){e.status.loggedIn=!1}}};i["default"].use(_["a"]);var R=new _["a"].Store({modules:{auth:j}}),M=n("8c4f"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"Home"}},[n("HeroCarousel",{staticClass:"container",staticStyle:{width:"90%"}}),e._l(e.all_movies,(function(e,t){return n("OwlCarousel",{key:t,attrs:{movies:e}})}))],2)},E=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"HeroCarousel"}},[n("div",{staticClass:"d-flex align-items-baseline justify-content-between",staticStyle:{height:"100%"}},[n("div",[e._v(" 오늘의 날씨: "),n("img",{attrs:{src:e.weather.weather_icon,alt:""}}),e._v(" "+e._s(e.weather.weather_description)+" ")]),n("div",[e._v(" 현재 시간: "+e._s(e.now)+" ")])]),n("b-carousel",{ref:"myCarousel",staticStyle:{"text-shadow":"2px 2px 2px #333"},attrs:{controls:"",fade:"",interval:2e3,background:"#fffff","img-width":"1024","img-height":"480"}},e._l(e.recomMovies,(function(e){return n("b-carousel-slide",{key:e.id,attrs:{caption:e.title,"caption-tag":"h1","img-src":e.backdrop_path}})})),1)],1)},U=[],N={name:"HeroCarousel",data:function(){return{now:"00:00:00",slide:0,sliding:null,recomMovies:[],weather:{}}},methods:{weatherRecom:function(){var e=this;l.a.get("http://15.164.229.252/movies/movielist/recommend/").then((function(t){e.recomMovies=t.data.recommend_movies,e.weather=t.data}))},prev:function(){this.$refs.myCarousel.prev()},next:function(){this.$refs.myCarousel.next()},movieDetail:function(e){this.$router.push({path:"/movie/".concat(e),params:{movie_id:e}}).catch((function(e){"NavigationDuplicated"===e.name&&location.reload()}))},time:function(){var e=new Date;this.now=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},created:function(){this.weatherRecom(),this.time()}},P=N,T=Object(v["a"])(P,I,U,!1,null,null,null),D=T.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"OwlCarousel"}},[n("section",{staticClass:"list item-more",staticStyle:{"padding-top":"0px"},attrs:{id:"movieListExample1"}},[n("h2",{staticClass:"section-title my-1",staticStyle:{"font-size":"50px"}},[e._v(" "+e._s(e.movies.genre)+" ")]),n("swiper",{staticClass:"swiper",attrs:{options:e.swiperOption}},[e._l(e.movies.movies,(function(t){return n("swiper-slide",{key:t.id,staticClass:"mx-4 flex-wrap align-items-baseline",staticStyle:{"list-style-type":"none"}},[n("b-card-img",{attrs:{id:"hovering-img",src:""+t.poster_path_thumbnail,title:t.title},on:{click:function(n){return e.movieDetail(t.id)}}})],1)})),n("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),n("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)])},A=[],H=(n("d81d"),n("7212")),z=(n("a7a3"),{name:"OwlCarousel",components:{Swiper:H["Swiper"],SwiperSlide:H["SwiperSlide"]},props:{movies:Object},data:function(){return{swiperOption:{slidesPerView:"auto",spaceBetween:6,autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!1},loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},slide:0,sliding:null}},methods:{load:function(){var e=this;this.messages=Array.apply(null,Array(Math.floor(100*Math.random()))).map((function(e,t){return t})),this.$nextTick((function(){var t=e.$el.querySelector("#test");t.scrollTop=t.scrollHeight}))},onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1},movieDetail:function(e){this.$router.push({path:"/movie/".concat(e),params:{movie_id:e}})}}}),J=z,F=(n("e075"),Object(v["a"])(J,B,A,!1,null,"410d1a12",null)),q=F.exports,G={name:"Home",components:{OwlCarousel:q,HeroCarousel:D},data:function(){return{all_movies:[],recomMovies:[]}},methods:{getMovieList:function(){var e=this;l.a.get("http://15.164.229.252/movies/movielist/").then((function(t){e.all_movies=t.data,console.log(e.all_movies)}))}},created:function(){this.getMovieList()}},V=G,W=Object(v["a"])(V,L,E,!1,null,"f4876996",null),K=W.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"Login"}},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"card card-container"},[n("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),n("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"username"}},[e._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"password"}},[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.loading}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),n("span",[e._v("Login")])])]),n("div",{staticClass:"form-group"},[e.message?n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()])])])])])},X=[],Y=(n("25f0"),function e(t,n,i,s,a){Object(C["a"])(this,e),this.username=t,this.email=n,this.password=i,this.passwordConfirm=s,this.id=a}),Z={name:"Login",data:function(){return{user:new Y("",""),loading:!1,message:""}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push("/")},methods:{handleLogin:function(){var e=this;this.loading=!0,this.user.username&&this.user.password&&this.$store.dispatch("auth/login",this.user).then((function(){e.$router.push("/")}),(function(t){e.loading=!1,e.message=t.response&&t.response.data||t.message||t.toString()}))}}},ee=Z,te=(n("962e"),Object(v["a"])(ee,Q,X,!1,null,"a0a3b31e",null)),ne=te.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"Signup"}},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"card card-container"},[n("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),n("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleRegister.apply(null,arguments)}}},[e.successful?e._e():n("div",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"username"}},[e._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"email"}},[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"password"}},[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"passwordConfirm"}},[e._v("Password Confirmation")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.passwordConfirm,expression:"user.passwordConfirm"}],staticClass:"form-control",attrs:{type:"password",name:"passwordConfirm"},domProps:{value:e.user.passwordConfirm},on:{input:function(t){t.target.composing||e.$set(e.user,"passwordConfirm",t.target.value)}}})]),e._m(0)])]),e.successful?n("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(" "+e._s(e.message)+" ")]):e._e()])])])},se=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary btn-block"},[e._v("Sign Up")])])}],ae={name:"Signup",data:function(){return{user:new Y("","","",""),submitted:!1,successful:!1,message:""}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.loggedIn&&this.$router.push("/accounts/login")},methods:{handleRegister:function(){var e=this;this.message="",this.submitted=!0,this.$store.dispatch("auth/register",this.user).then((function(t){e.message="".concat(t.username,"님 가입을 축하드립니다"),e.successful=!0,setTimeout((function(){e.$router.push("/accounts/login")}),3e3)}),(function(t){e.message=t.response&&t.response.data||t.message||t.toString(),e.successful=!1}))}}},re=ae,oe=(n("e548"),Object(v["a"])(re,ie,se,!1,null,"f54397ea",null)),ce=oe.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"MovieList"}},[n("div",{staticClass:"container",on:{scroll:e.debounceA}},e._l(e.movies,(function(e){return n("b-img",{key:e.poster_path,staticClass:"m-2",attrs:{src:""+e.poster_path,height:"320",width:"200"}})})),1)])},ue=[],me=n("5530"),de=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container",attrs:{id:"MovieDetail"}},[i("div",{staticClass:"container"},[e.movie.backdrop_path?i("img",{attrs:{src:e.movie.backdrop_path,alt:"",width:"100%"}}):i("img",{attrs:{alt:"",blank:"",width:"100%"}}),i("section",{staticClass:"my-3"},[i("div",{staticClass:"text-white"},[i("div",{staticClass:"d-flex justify-content-between"},[i("div",[i("div",{staticClass:"d-flex"},[i("h1",[e._v(e._s(e.movie.title)+" | ")]),i("h1",[e._v("평점: "+e._s(e.movie.vote_average)+"/10")])]),i("section",{staticClass:"d-flex flex-inline align-items-baseline"},[e.flag?i("b-icon-heart-fill",{key:e.movie.id,staticClass:"outline-white bg-transparent",on:{click:function(t){e.userName(),e.movieLike(e.movie.id)}}}):i("b-icon-heart",{key:e.movie.id,staticClass:"outline-white bg-transparent align-itmes-center",on:{click:function(t){e.userName(),e.movieLike(e.movie.id)}}}),i("p",{staticClass:"px-3",staticStyle:{"font-size":"x-large"},attrs:{"v-model":e.like_members}},[e._v(e._s(e.like_members)+"명이 좋아합니다")])],1)]),e.movie.adult?i("img",{staticClass:"bg-white",attrs:{width:"5%",height:"5%",src:n("b61d"),alt:""}}):e._e()]),i("hr"),i("h2",[e._v("줄거리")]),i("br"),i("h3",{staticStyle:{"text-color":"white"}},[e._v(e._s(e.movie.overview))])]),i("h3",[e._v(e._s(e.movie))])])])])},ve=[],pe={name:"MovieDetail",data:function(){return{movie:Object,movieRelavie:Object,like_members:0,loggedUser:"",flag:!1}},methods:{getMovie:function(e){var t=this;l.a.get("http://15.164.229.252/movies/movielist/".concat(e)).then((function(e){t.movie=e.data,t.like_members=e.data.like_users.length,t.userName(),e.data.like_users.filter((function(e,n){e.username===t.loggedUser&&(t.flag=!0,console.log(n))}))}))},getMovieList:function(e){var t=this;l.a.get("http://15.164.229.252/movies/movielist/").then((function(n){t.movieRelavie=n.data[e],console.log(t.movieRelavie)}))},movieLike:function(e){var t=this;l.a.post("http://15.164.229.252/movies/movielist/".concat(e,"/like/"),{},{headers:u()}).then((function(e){t.like_members=e.data.like_users.length,t.flag=!t.flag}))},userName:function(){var e=this;l.a.post("http://15.164.229.252/accounts/get-user-name/",{},{headers:u()}).then((function(t){e.loggedUser=t.data.username,console.log(e.loggedUser)}))}},computed:{currentUser:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.getMovie(this.$route.params.movie_id)}},fe=pe,he=(n("c906"),Object(v["a"])(fe,de,ve,!1,null,null,null)),ge=he.exports,we=n("b047"),be=n.n(we),_e={name:"MovieList",conponent:{MovieDetail:ge},computed:Object(me["a"])({},Object(_["b"])(["movies"])),methods:{debounceA:be()(_["b"],500)}},Ce=_e,xe=Object(v["a"])(Ce,le,ue,!1,null,null,null),ye=xe.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ReviewList"},[n("div",{staticClass:"container"},[n("b-list-group",e._l(e.reviews,(function(t,i){return n("b-list-group-item",{key:i,staticClass:"flex-column align-items-start",on:{click:function(n){return e.reviewDetail(t.id)}}},[n("div",{staticClass:"d-flex w-100 justify-content-between"},[n("h3",[e._v(e._s(t.title))]),n("hr"),n("small",[e._v("created at "+e._s(t.created_at.slice(0,10)))])]),n("div",[n("span",[e._v("about "+e._s(t.movie.title))]),n("span",[e._v("("),e._l(t.rank,(function(e){return n("b-icon-star-fill",{key:e,attrs:{animation:"spin",variant:"warning"}})})),e._v(")")],2)]),n("p",{staticClass:"mb-1"},[e._v("리뷰 내용: "+e._s(t.content.slice(0,50))+"...")]),n("div",{staticClass:"d-flex w-100 justify-content-between"},[n("small",[e._v("작성자 - "+e._s(t.user))]),n("small",[n("b-icon-heart-fill",{attrs:{variant:"danger"}}),e._v(" "+e._s(t.claps_count))],1)]),n("b-badge",{attrs:{pill:"",variant:"primary"}},[e._v(e._s(t.claps_count)+" 1")])],1)})),1),n("div",{staticStyle:{"text-align":"end"}},[n("b-icon-pen-fill",{staticClass:"align-items-end",attrs:{variant:"primary"},on:{click:function(t){return e.reviewCreate()}}})],1)],1)])},Oe=[],Se={name:"ReviewList",data:function(){return{reviews:[]}},methods:{getReviewList:function(){var e=this;console.log("이것도되니?"),l.a.get("http://15.164.229.252/community/review/").then((function(t){e.reviews=t.data,console.log(e.reviews)}))},reviewDetail:function(e){console.log("이것도되니?2"),this.$router.push({path:"/community/".concat(e),params:{review_id:e}}),console.log(e)},reviewCreate:function(){console.log("버튼누름"),this.$router.push("/community/reviewcreate/")}},created:function(){console.log("created"),this.getReviewList()}},$e=Se,je=(n("16f3"),Object(v["a"])($e,ke,Oe,!1,null,null,null)),Re=je.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ReviewDetail"},[n("div",{staticClass:"container"},[n("h2",[e._v(e._s(e.review.title))]),n("hr"),n("h3",[e._v(e._s(e.review.user)+"님의 "+e._s(e.review.movie.title)+"에 관한 리뷰")]),n("h3",[e._v("평점:  "),e._l(e.review.rank,(function(e){return n("b-icon-star-fill",{key:e,attrs:{variant:"warning"}})}))],2),n("p",{staticStyle:{"text-align":"end"}},[e._v("created at "+e._s(e.review.created_at.slice(0,10)))]),n("p",[e._v(e._s(e.review.content))]),n("div",{staticClass:"d-flex justify-content-between "},[n("div",[n("b-icon-heart-fill",{attrs:{variant:"danger",animation:"fade"},on:{click:function(t){return e.reviewClapsButton()}}}),e._v(" "+e._s(e.review.claps_count)+" ")],1),n("div",[n("b-icon-trash",{attrs:{type:"submit",variant:"danger"},on:{click:function(t){return e.deleteButton()}}})],1)]),n("hr"),n("div",{staticClass:"comments"},[n("b-list-group",e._l(e.review.comments,(function(t,i){return n("b-list-group-item",{key:i,staticClass:"flex-column align-items-start py-3 "},[n("div",{staticClass:"d-flex w-100 justify-content-between"},[n("h5",{staticClass:"mb-1"},[e._v(" "+e._s(t.content))]),n("div",{staticClass:"align-items-basline"},[n("span",[e._v("작성자: "+e._s(t.user)+" ")]),e.loggedUser===t.user?n("b-icon-trash",{attrs:{type:"submit",variant:"danger"},on:{click:function(n){return e.deleteCommentButton(t.id,i)}}}):e._e()],1)])])})),1),n("b-row",{staticClass:"my-1"},[n("b-col",{staticClass:"d-flex",attrs:{sm:"6"}},[n("b-form-input",{attrs:{id:"input-small",size:"sm",placeholder:"Enter your comment"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createCommentButton()}},model:{value:e.new_comment.content,callback:function(t){e.$set(e.new_comment,"content",t)},expression:"new_comment.content"}}),n("b-icon-pen-fill",{staticClass:"m-2",attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.createCommentButton()}}})],1)],1)],1)])])},Le=[],Ee=n("1da1"),Ie=(n("a434"),n("96cf"),"http://15.164.229.252/community/review/"),Ue=function(){function e(){Object(C["a"])(this,e)}return Object(x["a"])(e,[{key:"getPublicContent",value:function(){return l.a.get(Ie+"all")}},{key:"createReview",value:function(e){return l.a.post(Ie,e,{headers:u()})}},{key:"updateReview",value:function(e){return l.a.put(Ie+"".concat(e.id),e,{headers:u()})}},{key:"deleteReview",value:function(e){return l.a.delete(Ie+"".concat(e.review_id,"/"),{headers:u()})}},{key:"createComment",value:function(e,t){return l.a.post(Ie+"".concat(e.review_id,"/comment/"),{content:t},{headers:u()})}},{key:"deleteComment",value:function(e,t){return l.a.delete(Ie+"".concat(e.review_id,"/comment/"),{headers:u(),data:{id:t}})}},{key:"reviewClaps",value:function(e){return l.a.post(Ie+"".concat(e.review_id,"/claps/"),{},{headers:u()})}}]),e}(),Ne=new Ue,Pe={name:"ReviewDetail",data:function(){return{reviewid:0,loggedUser:"",new_comment:{content:"",user:""}}},props:{review:Object},computed:{currentUser:function(){return this.$store.state.auth.user}},methods:{getReview:function(e){var t=this;l.a.get("http://15.164.229.252/community/review/".concat(e,"/")).then((function(n){t.review=n.data,t.reviewid=e}))},deleteButton:function(){var e=this;return Object(Ee["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.review["review_id"]=parseInt(e.reviewid),t.next=3,Ne.deleteReview(e.review);case 3:n=t.sent,setTimeout((function(){e.$router.push("/community/reviewlist")}),1e3),console.log(n);case 6:case"end":return t.stop()}}),t)})))()},deleteCommentButton:function(e,t){var n=this;return Object(Ee["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log(t),n.review["review_id"]=parseInt(n.reviewid),i.next=4,Ne.deleteComment(n.review,e);case 4:s=i.sent,n.review.comments.splice(t,1),console.log(s);case 7:case"end":return i.stop()}}),i)})))()},createCommentButton:function(){var e=this;return Object(Ee["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.currentUser),e.review["review_id"]=parseInt(e.reviewid),t.next=4,Ne.createComment(e.review,e.new_comment.content);case 4:n=t.sent,e.review.comments.push(n.data),console.log(n.data),console.log(e.review.comments);case 8:case"end":return t.stop()}}),t)})))()},reviewClapsButton:function(){var e=this;return Object(Ee["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.review["review_id"]=parseInt(e.reviewid),t.next=3,Ne.reviewClaps(e.review);case 3:n=t.sent,console.log(n),e.$router.go();case 6:case"end":return t.stop()}}),t)})))()},userName:function(){var e=this;l.a.post("http://15.164.229.252/accounts/get-user-name/",{},{headers:u()}).then((function(t){e.loggedUser=t.data.username,console.log(e.loggedUser)}))}},created:function(){this.getReview(this.$route.params.review_id),this.userName()}},Te=Pe,De=(n("fd21"),Object(v["a"])(Te,Me,Le,!1,null,null,null)),Be=De.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"ReviewCreate"}},[n("div",{staticClass:"mt-2"},[e._v("Title: ")]),n("b-form-input",{attrs:{placeholder:"Enter title"},model:{value:e.review.title,callback:function(t){e.$set(e.review,"title",t)},expression:"review.title"}}),n("div",{staticClass:"mt-2"},[e._v("Content: ")]),n("b-form-textarea",{attrs:{rows:"10",placeholder:"Enter content"},model:{value:e.review.content,callback:function(t){e.$set(e.review,"content",t)},expression:"review.content"}}),n("div",{staticClass:"mt-2"},[e._v("Movie: ")]),n("SearchAutocomplete",{on:{movieSelect:e.movieSelect}}),n("div",{staticClass:"mt-2"},[n("label",{attrs:{for:"rating-inline"}},[e._v("Rank: ")]),e._v(" "),n("br"),n("b-form-rating",{attrs:{id:"rating-inline",inline:"",value:"4"},model:{value:e.review.rank,callback:function(t){e.$set(e.review,"rank",t)},expression:"review.rank"}})],1),n("b-button",{staticClass:"mt-2",attrs:{type:"submit",variant:"primary"},on:{click:e.handleButton}},[e._v("Submit")])],1)},He=[],ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomplete"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text"},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.onChange]}}),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results"},e._l(e.results,(function(t,i){return n("li",{key:i,staticClass:"autocomplete-result",on:{click:function(n){return e.getMovieId(t)}}},[n("div",{staticClass:"d-flex flex-row justify-content-between container"},[n("div",{staticClass:"col-4"},[n("img",{attrs:{src:t.backdrop_path_thumbnail,alt:"Girl in a jacket",width:"100"}})]),n("div",{staticClass:"col-8"},[e._v(e._s(t.title))])])])})),0)])},Je=[],Fe=(n("ac1f"),n("841c"),{name:"SearchAutocomplete",props:{items:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{search:"",results:[],isOpen:!1,isLoading:!1}},watch:{search:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.length>=2)){e.next=6;break}return this.results=t,e.next=4,l.a.get("http://15.164.229.252/movies/movielist/search",{params:{search:this.search}});case 4:n=e.sent,this.results=n.data.slice(0,10);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)},methods:{filterResults:function(){var e=this;return Object(Ee["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isLoading=!1;case 1:case"end":return t.stop()}}),t)})))()},onChange:function(){this.isLoading||(this.isLoading=!0,this.filterResults(),this.isOpen=!0)},getMovieId:function(e){this.search=e.title,this.$emit("movieSelect",e.id),this.isOpen=!1},handleClickOutside:function(e){this.$el.contains(e.target)||(this.isOpen=!1)}}}),qe=Fe,Ge=(n("3b77"),Object(v["a"])(qe,ze,Je,!1,null,"3fd83a4e",null)),Ve=Ge.exports,We={name:"ReviewCreate",data:function(){return{review:{movie:{id:""},title:"",content:"",rank:""}}},components:{SearchAutocomplete:Ve},methods:{handleButton:function(){var e=this;return Object(Ee["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ne.createReview(e.review);case 2:n=t.sent,console.log(n),setTimeout((function(){e.$router.push("/community/reviewlist")}),1e3);case 5:case"end":return t.stop()}}),t)})))()},movieSelect:function(e){this.review.movie.id=e,console.log(this.review)}}},Ke=We,Qe=(n("b09e"),Object(v["a"])(Ke,Ae,He,!1,null,null,null)),Xe=Qe.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"ReviewUpdate"}},[n("div",{staticClass:"mt-2"},[e._v("Title: ")]),n("b-form-input",{attrs:{placeholder:"original_review.title"},model:{value:e.review.title,callback:function(t){e.$set(e.review,"title",t)},expression:"review.title"}}),n("div",{staticClass:"mt-2"},[e._v("Content: ")]),n("b-form-input",{attrs:{placeholder:"original_review.content"},model:{value:e.review.content,callback:function(t){e.$set(e.review,"content",t)},expression:"review.content"}}),n("div",{staticClass:"mt-2"},[e._v("Movie: ")]),n("b-form-input",{attrs:{placeholder:"Enter title"},model:{value:e.review.movie.id,callback:function(t){e.$set(e.review.movie,"id",t)},expression:"review.movie.id"}}),n("div",{staticClass:"mt-2"},[n("label",{attrs:{for:"rating-inline"}},[e._v("Rank: ")]),n("b-form-rating",{attrs:{id:"rating-inline",inline:"",value:"4"},model:{value:e.review.rank,callback:function(t){e.$set(e.review,"rank",t)},expression:"review.rank"}})],1),n("b-button",{staticClass:"mt-2",attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.handleButton()}}},[e._v("Submit")])],1)},Ze=[],et={name:"ReviewUpdate",data:function(){return{review:{movie:{id:""},title:"",content:"",rank:""},movie_list:[],search:""}},props:{original_review:Object},methods:{handleButton:function(){var e=this;return Object(Ee["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ne.createReview(e.review);case 2:n=t.sent,console.log(n),setTimeout((function(){e.$router.push("/community/reviewlist")}),1e3);case 5:case"end":return t.stop()}}),t)})))()}}},tt=et,nt=(n("6cbc"),Object(v["a"])(tt,Ye,Ze,!1,null,null,null)),it=nt.exports;i["default"].use(M["a"]);var st=[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:K},{path:"/accounts/login",name:"Login",component:ne},{path:"/accounts/signup",name:"Signup",component:ce},{path:"/movie/movielist",name:"MovieList",component:ye},{path:"/movie/:movie_id",name:"MovieDetail",component:ge,props:!0},{path:"/community/reviewlist",name:"ReviewList",component:Re},{path:"/community/reviewcreate",name:"ReviewCreate",component:Xe},{path:"/community/reviewupdate/:review_id",name:"ReviewUpdate",component:it,props:!0},{path:"/community/:review_id",name:"ReviewDetail",component:Be,props:!0}],at=new M["a"]({mode:"history",base:"/",routes:st}),rt=at,ot=n("5f5b"),ct=n("b1e0");n("f9e3"),n("2dd8");i["default"].use(ot["a"]),i["default"].use(ct["a"]),i["default"].config.productionTip=!1,new i["default"]({store:R,router:rt,render:function(e){return e(b)}}).$mount("#app")},"6cbc":function(e,t,n){"use strict";n("b474")},"719d":function(e,t,n){},"85ec":function(e,t,n){},8879:function(e,t,n){},"962e":function(e,t,n){"use strict";n("457f")},a162:function(e,t,n){},b09e:function(e,t,n){"use strict";n("0e87")},b0e2:function(e,t,n){},b474:function(e,t,n){},b61d:function(e,t,n){e.exports=n.p+"img/adult_sticker.8bfeee00.png"},b93c:function(e,t,n){},c906:function(e,t,n){"use strict";n("8879")},e075:function(e,t,n){"use strict";n("35cd")},e548:function(e,t,n){"use strict";n("b93c")},e828:function(e,t,n){},eebf:function(e,t,n){"use strict";n("b0e2")},fd21:function(e,t,n){"use strict";n("a162")}});
//# sourceMappingURL=app.c0d70371.js.map